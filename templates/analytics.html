<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IM 95 Machine Control System - Analytics</title>
    <link rel="stylesheet" href="static/analytics.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="dark-theme">
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <div class="logo-icon">VI</div>
                    <span>IM 95 vision inspection unit Control System</span>
                </div>
            </div>
            
            <div class="header-center">
                <div class="fullscreen-hint">
                    <span>To exit full screen, press and hold</span>
                    <kbd>Esc</kbd>
                </div>
            </div>
            
            <div class="header-right">
                <button class="theme-toggle" onclick="toggleTheme()">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="operator-info">
                    <div class="operator-details">
                        <span>Operator: Admin</span>
                        <span>Shift: Day</span>
                    </div>
                    <div class="datetime">
                        <span id="datetime">7/14/2025, 1:25:36 PM</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Selected Item Display -->
            <div class="selected-item-card">
                <div class="selected-item-header">
                    <h2>Selected Item</h2>
                    <div class="selected-item-actions">
                        <button class="btn btn-secondary" onclick="clearSelection()" id="clearSelectionBtn" disabled>
                            <i class="fas fa-times"></i>
                            Clear
                        </button>
                        <button class="btn btn-success" onclick="runTrialRun()" id="trialRunBtn" disabled>
                            <i class="fas fa-play"></i>
                            <span id="trialRunText">Trial Run</span>
                        </button>
                        <button class="btn btn-success" onclick="editSelectedItemSettings()" id="editSelectedSettingsBtn" disabled>
                            <i class="fas fa-cog"></i>
                            Settings
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedItem()" id="deleteSelectedBtn" disabled>
                            <i class="fas fa-trash"></i>
                            Delete
                        </button>
                    </div>
                </div>
                <div class="selected-item-display" id="selectedItemDisplay">
                    <div class="no-selection">
                        <i class="fas fa-mouse-pointer"></i>
                        <p>No item selected. Click on an item from the list below to view details.</p>
                    </div>
                </div>
            </div>

            <!-- Item List Section -->
            <div class="item-list-section">
                <div class="section-header">
                    <h2>Item List</h2>
                    <button class="btn btn-success" onclick="handleAddNewItem()">
                        <i class="fas fa-plus"></i>
                        Add New Item
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="item-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>Weight</th>
                                <th>Type</th>
                                <th>Created Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="itemTableBody">
                            <!-- Items will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="/" class="nav-tab">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="settings" class="nav-tab">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
            <a href="analytics" class="nav-tab active">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            <button class="nav-tab">
                <i class="fas fa-tools"></i>
                <span>Maintenance</span>
            </button>
            <button class="nav-tab" onclick="toggleKeyboard()">
                <i class="fas fa-keyboard"></i>
                <span>Keyboard</span>
            </button>
        </nav>

        <!-- Virtual Keyboard -->
        <div id="virtualKeyboard" class="virtual-keyboard">
            <div class="keyboard-header">
                <span>Virtual Keyboard</span>
                <button class="close-keyboard" onclick="toggleKeyboard()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="keyboard-body">
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('1')">1</button>
                    <button class="key" onclick="typeKey('2')">2</button>
                    <button class="key" onclick="typeKey('3')">3</button>
                    <button class="key" onclick="typeKey('4')">4</button>
                    <button class="key" onclick="typeKey('5')">5</button>
                    <button class="key" onclick="typeKey('6')">6</button>
                    <button class="key" onclick="typeKey('7')">7</button>
                    <button class="key" onclick="typeKey('8')">8</button>
                    <button class="key" onclick="typeKey('9')">9</button>
                    <button class="key" onclick="typeKey('0')">0</button>
                    <button class="key backspace" onclick="backspace()">
                        <i class="fas fa-backspace"></i>
                    </button>
                </div>
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('q')">Q</button>
                    <button class="key" onclick="typeKey('w')">W</button>
                    <button class="key" onclick="typeKey('e')">E</button>
                    <button class="key" onclick="typeKey('r')">R</button>
                    <button class="key" onclick="typeKey('t')">T</button>
                    <button class="key" onclick="typeKey('y')">Y</button>
                    <button class="key" onclick="typeKey('u')">U</button>
                    <button class="key" onclick="typeKey('i')">I</button>
                    <button class="key" onclick="typeKey('o')">O</button>
                    <button class="key" onclick="typeKey('p')">P</button>
                </div>
                <div class="keyboard-row">
                    <button class="key" onclick="typeKey('a')">A</button>
                    <button class="key" onclick="typeKey('s')">S</button>
                    <button class="key" onclick="typeKey('d')">D</button>
                    <button class="key" onclick="typeKey('f')">F</button>
                    <button class="key" onclick="typeKey('g')">G</button>
                    <button class="key" onclick="typeKey('h')">H</button>
                    <button class="key" onclick="typeKey('j')">J</button>
                    <button class="key" onclick="typeKey('k')">K</button>
                    <button class="key" onclick="typeKey('l')">L</button>
                </div>
                <div class="keyboard-row">
                    <button class="key caps" onclick="toggleCaps()">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                    <button class="key" onclick="typeKey('z')">Z</button>
                    <button class="key" onclick="typeKey('x')">X</button>
                    <button class="key" onclick="typeKey('c')">C</button>
                    <button class="key" onclick="typeKey('v')">V</button>
                    <button class="key" onclick="typeKey('b')">B</button>
                    <button class="key" onclick="typeKey('n')">N</button>
                    <button class="key" onclick="typeKey('m')">M</button>
                    <button class="key" onclick="typeKey('.')">.</button>
                </div>
                <div class="keyboard-row">
                    <button class="key space" onclick="typeKey(' ')">Space</button>
                    <button class="key" onclick="typeKey('-')">-</button>
                    <button class="key" onclick="typeKey('_')">_</button>
                    <button class="key enter" onclick="enterKey()">
                        <i class="fas fa-arrow-turn-down"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Item Modal -->
    <div id="addItemModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Item</h3>
                <button class="close-btn" onclick="closeAddItemModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addItemForm">
                    <div class="form-group">
                        <label for="itemName">Item Name</label>
                        <input type="text" id="itemName" name="itemName" required>
                    </div>
                    <div class="form-group">
                        <label for="itemWeight">Weight (g)</label>
                        <input type="number" id="itemWeight" name="itemWeight" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="itemType">Type</label>
                        <select id="itemType" name="itemType" required>
                            <option value="">Select Type</option>
                            <option value="LID">LID</option>
                            <option value="TUB">TUB</option>
                            
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeAddItemModal()">Cancel</button>
                <button class="btn btn-primary" onclick="handleSaveNewItem()">
                    <i class="fas fa-save"></i>
                    Save Item
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Item Modal -->
    <div id="editItemModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Item</h3>
                <button class="close-btn" onclick="closeEditItemModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editItemForm">
                    <div class="form-group">
                        <label for="editItemName">Item Name</label>
                        <input type="text" id="editItemName" name="itemName" required>
                    </div>
                    <div class="form-group">
                        <label for="editItemWeight">Weight (g)</label>
                        <input type="number" id="editItemWeight" name="itemWeight" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="editItemType">Type</label>
                        <select id="editItemType" name="itemType" required>
                            <option value="">Select Type</option>
                            <option value="LID">LID</option>
                            <option value="TUB">TUB</option>
                            <option value="CONTAINER">CONTAINER</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeEditItemModal()">Cancel</button>
                <button class="btn btn-primary" onclick="handleSaveEditedItem()">
                    <i class="fas fa-save"></i>
                    Save Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Numeric Keypad -->
    <div id="numericKeypad" class="numeric-keypad">
        <div class="keypad-header">
            <span>Numeric Keypad</span>
            <button class="close-keypad" onclick="hideNumericKeypad()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="keypad-body">
            <div class="keypad-row">
                <button class="keypad-key" onclick="typeNumber('1')">1</button>
                <button class="keypad-key" onclick="typeNumber('2')">2</button>
                <button class="keypad-key" onclick="typeNumber('3')">3</button>
            </div>
            <div class="keypad-row">
                <button class="keypad-key" onclick="typeNumber('4')">4</button>
                <button class="keypad-key" onclick="typeNumber('5')">5</button>
                <button class="keypad-key" onclick="typeNumber('6')">6</button>
            </div>
            <div class="keypad-row">
                <button class="keypad-key" onclick="typeNumber('7')">7</button>
                <button class="keypad-key" onclick="typeNumber('8')">8</button>
                <button class="keypad-key" onclick="typeNumber('9')">9</button>
            </div>
            <div class="keypad-row">
                <button class="keypad-key clear" onclick="clearInput()">
                    <i class="fas fa-eraser"></i>
                </button>
                <button class="keypad-key" onclick="typeNumber('0')">0</button>
                <button class="keypad-key backspace" onclick="backspaceKeypad()">
                    <i class="fas fa-backspace"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="static/analytics.js"></script>
</body>
</html>